{"created_at":"2026-01-05T23:45:04.079809774Z","created_by":"jes","description":"Future exploration: Add blackboard like functionality to commonplace, potentially called \"black\". Details TBD.","id":"CP-47e3","issue_type":"feature","labels":["future-work"],"priority":3,"status":"open","title":"Blackboard like functionality (\"black\")","updated_at":"2026-01-05T23:45:04.079809774Z"}
{"created_at":"2025-12-30T17:54:39.878136696Z","created_by":"jes","description":"Render a filetree (directory structure) as XHTML output.","id":"CP-a85","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"Filetree to XHTML renderer","updated_at":"2025-12-30T17:54:39.878136696Z"}
{"created_at":"2025-12-28T22:49:01.628965-08:00","description":"Implement macaroon-based authorization enforced at the MQTT layer. Macaroons provide:\n- Delegatable, attenuatable credentials\n- Fine-grained path-based permissions\n- Caveat-based restrictions (time, scope, etc.)\n\nEnforcement at MQTT means all clients (JS sandbox, external processes, CLI, MCP servers) go through the same auth layer.","design":"Spec drafted in `docs/MACAROONS.md`.\n\nKey decisions (v1):\n- Enforcement: Mosquitto auth plugin as verifier; offline verification at broker.\n- Transport: MQTT CONNECT password carries base64url macaroon (username optional for logging).\n- Caveats:\n  - cp.v=1\n  - cp.exp=<unix_seconds> (recommended)\n  - cp.aud=<broker_id> (recommended)\n  - cp.cid=<mqtt_client_id> (optional binding)\n  - cp.acl=<base64url(json)> where json contains publish/subscribe/both topic filters.\n- ACL evaluation: multiple cp.acl caveats are intersected (supports attenuation by adding stricter ACLs).\n- SUBSCRIBE policy: prefer subset-of-allowed check for topic filters; allow exact-match as v1 fallback.\n- Revocation strategy: short expirations + key rotation in v1; optional third-party caveats/discharge later.","id":"CP-adm","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"Macaroons for MQTT-layer authorization","updated_at":"2026-01-04T01:35:59.034496752Z"}
{"created_at":"2026-01-05T23:42:02.081162414Z","created_by":"jes","description":"Future exploration: Add petri-token like functionality to commonplace, potentially called \"green\". Details TBD.","id":"CP-bl1q","issue_type":"feature","labels":["future-work"],"priority":3,"status":"open","title":"Petri-token like functionality (\"green\")","updated_at":"2026-01-05T23:42:02.081162414Z"}
{"created_at":"2025-12-30T19:39:21.869408178Z","created_by":"jes","description":"Use Podman containers for sandboxed execution of untrusted code. Provides stronger isolation than temp directory sandbox for running arbitrary user-provided commands.","id":"CP-c7h","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"Podman for untrusted sandbox","updated_at":"2025-12-30T19:39:21.869408178Z"}
{"created_at":"2026-01-06T00:55:16.282048143Z","created_by":"jes","description":"Inline subdirectories are deprecated. migrate_inline_subdirectories() in reconciler.rs handles migration to node-backed style. Once all schemas are migrated, remove:\n\n1. Inline subdirectory parsing/handling code\n2. The migration code itself (or keep for safety)\n3. Any fallback paths that still check for inline entries\n\nFiles to audit:\n- src/fs/reconciler.rs (migration code)\n- src/path.rs (inline handling)\n- src/files.rs (entries.is_null checks)\n- src/sync/uuid_map.rs (inline entry handling)","id":"CP-e3jr","issue_type":"task","labels":["future-work"],"priority":3,"status":"open","title":"Remove support for inline subdirectories","updated_at":"2026-01-06T00:55:16.282048143Z"}
{"created_at":"2026-01-06T01:50:48.734309682Z","created_by":"jes","dependencies":[{"created_at":"2026-01-06T01:50:48.738801222Z","created_by":"jes","depends_on_id":"CP-g99w","issue_id":"CP-e3km","type":"blocks"}],"description":"Summary: Route red-port broadcasts through the gold event-ordering mechanism so subscribers can deterministically order red events across transports.\n\nFiles to modify:\n- src/ws/protocol.rs\n- src/ws/room.rs\n- src/mqtt/events.rs\n- docs/ARCHITECTURE.md\n\nImplementation steps:\n1. Define the gold ordering token/sequence for red events (e.g., monotonic sequence or gold CID) once gold infra is available.\n2. Extend red event envelopes to include the ordering field for both WebSocket and MQTT paths.\n3. Update broadcast paths to mint/attach the ordering token at publish time.\n4. Update any red-event consumers to surface the ordering metadata and document the semantics.\n5. Add tests that emit multiple red events and assert ordering metadata increases/links correctly.\n\nExample:\nBefore: red event payload is unordered; clients may see events in different orders.\nAfter: red events include `order: <gold_seq>` so clients can sort consistently.\n","id":"CP-e3km","issue_type":"feature","priority":2,"status":"open","title":"Red broadcasts should use gold ordering metadata","updated_at":"2026-01-06T01:50:48.734309682Z"}
{"created_at":"2025-12-28T23:53:18.565001-08:00","description":"Fire events on a recurring schedule (like crontab). Use cases:\n- Periodic document refresh triggers\n- Scheduled backup/export jobs\n- Regular polling of external sources\n- Time-based workflow triggers\n\nCould be defined as a special node type or as a configuration on documents.","design":"OPEN QUESTIONS for implementation:\n1. Where are schedules stored - in a special document, node metadata, or separate config?\n2. What format for cron expressions (standard cron or extended)?\n3. What event type is fired on schedule trigger?\n4. How to handle timezone - UTC only or configurable?\n5. Should missed events (server was down) be replayed or skipped?\n6. Is this a separate service or integrated into commonplace-store?","id":"CP-eyi","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"Cron-style recurring scheduled events","updated_at":"2025-12-30T01:44:47.450426047Z"}
{"created_at":"2026-01-05T23:41:42.881279591Z","created_by":"jes","description":"Future exploration: Add blockchain-like functionality to commonplace, potentially called \"gold\". Details TBD.","id":"CP-g99w","issue_type":"feature","labels":["future-work"],"priority":3,"status":"open","title":"Block-chain like functionality (\"gold\")","updated_at":"2026-01-05T23:41:42.881279591Z"}
{"created_at":"2026-01-07T01:30:20.380563109Z","created_by":"jes","description":"When using cp.doc().onChange() and then calling get(), the onChange callback should fire with the initial content. Currently you have to manually call your handler after get() which is awkward and error-prone.","id":"CP-ofu9","issue_type":"bug","priority":2,"status":"open","title":"SDK onChange should fire with initial content after get()","updated_at":"2026-01-07T01:30:29.755233862Z"}
{"created_at":"2025-12-28T23:53:18.488271-08:00","dependencies":[{"created_at":"2025-12-28T23:53:18.489746-08:00","created_by":"daemon","depends_on_id":"CP-egb","issue_id":"CP-qyj","type":"blocks"}],"description":"Extend the JS sandbox evaluator to support TypeScript. This could mean:\n- Transpiling TS â†’ JS before evaluation\n- Supporting .ts file extensions in sandbox\n- Type definitions for the sandbox API (dependencies, output documents, events)\n\nThis makes the sandbox more ergonomic for larger/complex reactive transforms.","id":"CP-qyj","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"TypeScript support for sandboxed evaluator","updated_at":"2025-12-28T23:53:18.488271-08:00"}
{"created_at":"2025-12-28T23:53:18.644504-08:00","dependencies":[{"created_at":"2025-12-28T23:53:29.351623-08:00","created_by":"daemon","depends_on_id":"CP-eyi","issue_id":"CP-se0","type":"related"}],"description":"Schedule events to fire at a specific point in the future. Unlike cron (recurring), these are one-shot:\n- Reminders\n- Delayed actions\n- Future-dated triggers\n- Timeout/deadline events\n\nCould share infrastructure with cron scheduling but with single-fire semantics.","design":"OPEN QUESTIONS for implementation:\n1. How to persist scheduled events across restarts?\n2. What happens if target path doesn't exist when event fires?\n3. Should there be a 'list scheduled events' API?\n4. Can events be cancelled before they fire?\n5. What precision - seconds, milliseconds, or just minutes?\n6. Same storage and service questions as CP-eyi","id":"CP-se0","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"One-time scheduled events (at-style)","updated_at":"2025-12-30T01:44:47.476156216Z"}
{"created_at":"2025-12-28T22:49:01.180475-08:00","description":"An MCP server that reads a specified commonplace JSON document and exposes its contents as MCP tools, resources, and prompts. The JSON document defines the MCP schema, and the server dynamically serves those definitions to MCP clients.","design":"OPEN QUESTIONS for implementation:\n1. What JSON schema should define tools? MCP-native schema or custom format?\n2. Should this dynamically reload when the document changes?\n3. How to handle tool implementations - call external commands, evaluate JS, or just return content?\n4. Should it support resources and prompts in addition to tools?\n5. How does this relate to CP-pgx (already implemented) - replace or complement it?","id":"CP-z7t","issue_type":"feature","labels":["future-work"],"priority":2,"status":"open","title":"MCP server using commonplace JSON file for tool/resource definitions","updated_at":"2025-12-30T01:44:22.367660722Z"}
