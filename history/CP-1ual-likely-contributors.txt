CP-1ual likely contributors (ordered by likelihood)

1) CRDT init race
   - When needs_server_init() is true, CRDT merge is skipped and the client falls back to a server fetch.
   - If the edit arrives before the server has processed it, the fetch returns stale content and the edit is lost.
   - Symptom match: empty file or missing edit after initial create.
   - Bead: CP-hykz.

2) Broadcast lag without resync
   - recv_broadcast() logs Lagged and continues, but no resync occurs.
   - Missed edits are permanently lost for that session.
   - Symptom match: later edits silently fail to land.
   - Bead: CP-oah1.

3) Watcher reads unstable files
   - Create/modify events can fire before content is fully written (temp file + rename, editor swap).
   - Empty or partial reads can be published as real edits.
   - Symptom match: file created but empty or truncated.
   - Bead: CP-gz0p.

4) Echo suppression or fallback writes interfering with real edits
   - Echo suppression/fallback write paths can block legitimate remote updates or cause echo loops.
   - Symptom match: sandbox -> workspace edits not propagating.
   - Beads: CP-qqgi (echo suppression removal), CP-dkqk (pipeline investigation).

5) MQTT retain/QoS strategy inconsistencies
   - If retained edits or QoS are inconsistent, late-joining peers miss updates.
   - Symptom match: sandbox joins and never receives the latest content.
   - Bead: CP-w41r.

6) Subscription timing vs schema updates
   - Schema update triggers UUID subscription; content edit can arrive before subscription is active.
   - Fetch then returns empty or stale content.
   - Symptom match: initial create OK but subsequent content missing.
   - Related to CP-hykz and CP-dkqk.

---
Updates after recent fixes (Jan 2026)

New likely contributors after recent fixes landed:

A) Sandbox exec starts before CRDT readiness
- In sandbox mode, exec can start after a fixed 3s timeout even if CRDT init and file sync are incomplete.
- This allows early writes to bypass CRDT tasks and become lost.
- Bead: CP-mcfh.

B) UUID map readiness race
- UUID map fetch happens after a fixed 100ms sleep; reconciler may not have assigned UUIDs yet.
- This can cause CRDT tasks to start with missing or incorrect node IDs.
- Bead: CP-o1pe.

C) Duplicate CRDT task spawns
- Multiple code paths can upgrade/spawn CRDT tasks for the same file; duplicates can cause publish/receive loops.
- Bead: CP-5s00.

D) Schema-ready barrier missing for new files
- Content edits for newly created files can arrive before schema visibility on peers, even with buffering.
- Bead: CP-ekqq.

---
Current status update (2026-01-24)

Stage 5 remains intermittent after race fixes:
- Most runs miss workspace→sandbox edit
- Occasional runs miss sandbox→workspace edit

Remaining suspected causes:
- Sandbox exec starts before CRDT readiness (CP-mcfh)
- UUID readiness race (CP-o1pe)
- Missing schema-ready barrier for new files (CP-ekqq)
- Duplicate CRDT task spawns (CP-5s00)
